<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnarchyDoc: üèÉ‚Äç‚ôÄÔ∏è Running Standalone</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnarchyDoc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__s_e_r_v_e_r___a_p_i.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">üèÉ‚Äç‚ôÄÔ∏è Running Standalone</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md26"></a> After you have installed (as above), you now have an anarchy server which provides an completion API (using flask).</p>
<div class="fragment"><div class="line">&gt; cd LLM-VM</div>
<div class="line">&gt; llm_vm_server</div>
</div><!-- fragment --><p>This will start a flask server at <a href="https://localhost:3002/">https://localhost:3002/</a> and will create an endpoint <a href="http://localhost:3002/v1/complete">http://localhost:3002/v1/complete</a>.</p>
<h1><a class="anchor" id="autotoc_md27"></a>
üï∏Ô∏è API Usage üï∏Ô∏è</h1>
<h2><a class="anchor" id="autotoc_md28"></a>
Submitting a Request</h2>
<p>The package defaults to using chatGPT as the big model that we use for completion, and GPT3 is the small model that we use for fine tuning. These can be adjusted in src/llm_vm/completion/config.json.</p>
<h3><a class="anchor" id="autotoc_md29"></a>
Request Paramaters</h3>
<ul>
<li><code>prompt</code>: String - The natural language query that is passed to the LLM</li>
<li><code>context</code>: String - The context for the prompt. We fine tune models with respect to the context window. Can be empty</li>
<li><code>openai_key</code>: String - your personal open.ai key. You can generate one <a href="https://platform.openai.com/account/api-keys">here</a></li>
<li><code>temperature</code>?: Number - The temperature of the model. A higher temperature offers a more diverse range of answers, but a higher chance of straying from the context.</li>
<li><code>finetune</code>?: Boolean - True if you want to finetune the model and False if not.</li>
<li><code><a class="el" href="namespacedata__synthesis.html">data_synthesis</a></code>?: Boolean - True if you want to finetune the model and False if not.</li>
<li><code>stoptoken</code>?: String or Array of String - Sequence of tokens that will stop generation and return the result up to and before the sequence provided.</li>
<li><code>tools</code>?: JSON Array<ul>
<li><code>description</code>: String - description of what the tool does.</li>
<li><code>url</code>: String: Endpoint - of the tool you want to use</li>
<li><code>dynamic_params</code>: JSON {"key":"value"} - Parameters that change with each api call, like a stock ticker symbol you are interested in</li>
<li><code>method</code>: String - GET/POST</li>
<li><code>static_params</code>: JSON {"key":"value"} - Parameters that are the same for every api call, like the token or API key</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md30"></a>
Submitting a Request to the LLM</h3>
<p>Post requests can be sent to this endpoint <code><a href="http://localhost:3002/v1/complete">http://localhost:3002/v1/complete</a></code> in the following format:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;prompt&quot;:&quot;What is 2+2&quot;,</div>
<div class="line">    &quot;context&quot;:&quot;Answer the math problem with just a number.&quot;,</div>
<div class="line">    &quot;openai_key&quot;: &lt;OPENAI-KEY&gt;,</div>
<div class="line">    &quot;temperature&quot;:0,</div>
<div class="line">    &quot;finetune&quot;: true,</div>
<div class="line">    &quot;data_synthesis: true</div>
<div class="line">}</div>
</div><!-- fragment --><p> Example Curl: </p><div class="fragment"><div class="line">curl -X POST http://localhost:3002/v1/complete -H &quot;Content-Type: application/json&quot; -d &#39;{&quot;prompt&quot;: &quot;What is 2+2&quot;, &quot;context&quot;: &quot;Answer the math problem with just a number.&quot;, &quot;openai_key&quot;: &quot;your-key&quot;, &quot;temperature&quot;: 0, &quot;finetune&quot;: true, &quot;data_synthesis&quot;: true}&#39;</div>
</div><!-- fragment --><p>If no <code>temperature</code>, <code>finetune</code>, or <code><a class="el" href="namespacedata__synthesis.html">data_synthesis</a></code> are provided, these values will default to <code>0</code>, <code>false</code>, and <code>false</code> respectively.</p>
<h1><a class="anchor" id="autotoc_md31"></a>
üõ†Ô∏è Tool Using Agents üõ†Ô∏è</h1>
<h3><a class="anchor" id="autotoc_md32"></a>
Submitting a Request to the REBEL Agent</h3>
<p>An agent is an algorithm that uses the LLM in a way to increase its reasoning capabilities such as allowing the use of outside tools or allowing the LLM to answer compositional questions. To use the REBEL (REcursion Based Extensible Llm) endpoint with tools, add a tool in the following way. We have used the finnhub api to get stocks data as an example.</p>
<p>Post requests can be sent to this endpoint <code><a href="http://localhost:3002/v1/complete">http://localhost:3002/v1/complete</a></code> with the tools optional parameter: </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;prompt&quot;:&quot;What is the price of apple stock?&quot;,</div>
<div class="line">    &quot;context&quot;:&quot;&quot;,</div>
<div class="line">    &quot;tools&quot;:[{</div>
<div class="line">        &quot;description&quot;:&quot;Find the current price of a stock.&quot;,</div>
<div class="line">        &quot;url&quot;:&quot;https://finnhub.io/api/v1/quote&quot;,</div>
<div class="line">        &quot;dynamic_params&quot;:{&quot;symbol&quot;: &quot;the symbol of the stock&quot;},</div>
<div class="line">        &quot;method&quot;:&quot;GET&quot;,</div>
<div class="line">        &quot;static_params&quot;:{&quot;token&quot;:&lt;Finnhub Key&gt;}</div>
<div class="line">    }],</div>
<div class="line">    &quot;openai_key&quot;: &lt;OpenAI Key&gt;,</div>
<div class="line">    &quot;temperature&quot;:0,</div>
<div class="line">    &quot;finetune&quot;: true</div>
<div class="line">}</div>
</div><!-- fragment --><p>To access the completion endpoint programmatically, after starting up the server on your machine, import llm_vm.py into your code and call the completion function. Currently, we do not support tools through the programmatic completion function. To test that the server is working correctly, after starting it, run </p><div class="fragment"><div class="line">test_llm_vm.py</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
