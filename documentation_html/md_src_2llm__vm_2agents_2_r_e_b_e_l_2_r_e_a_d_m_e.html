<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AnarchyDoc: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AnarchyDoc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_src_2llm__vm_2agents_2_r_e_b_e_l_2_r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">README</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1 align="center">ðŸ¤– Anarchy REBEL ðŸ¤– </h1>
<p>This is the code for the "LLM Guided Inductive Inference for Solving Compositional Problems" paper presented at ICML TEACH23</p>
<p><img src="diagram.png" alt="Anarchy Logo" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md33"></a>
Table of Contents</h2>
<ul>
<li>Installation</li>
<li>Requirements</li>
<li>Usage</li>
<li>Background</li>
<li>Evaluation</li>
<li>Authors</li>
<li>Citation</li>
<li>References</li>
<li>Contact</li>
</ul>
<h2><a class="anchor" id="autotoc_md34"></a>
Requirements</h2>
<p>To run REBEL you need to have a Python version that is greater than 3.8.</p>
<p>All other requirements that can be installed using the Installation section.</p>
<h2><a class="anchor" id="autotoc_md35"></a>
Installation</h2>
<p>To install REBEL first run</p>
<div class="fragment"><div class="line">git clone https://github.com/anarchy-ai/LLM-VM.git</div>
<div class="line">pip install .</div>
</div><!-- fragment --><p>From the root LLM-VM directory, we need to go to the REBEL directory.</p>
<div class="fragment"><div class="line">cd .\src\llm_vm\agents\REBEL</div>
</div><!-- fragment --><p>and then run</p>
<div class="fragment"><div class="line">pip install -r requirements.txt</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md36"></a>
Usage</h2>
<p>After installation is complete there are a few ways that you can run REBEL.</p>
<p>The first is through the <a class="el" href="quickstart___r_e_b_e_l_8py.html">quickstart_REBEL.py</a> in the root LLM_VM directory. To run the REBEL agent run </p><div class="fragment"><div class="line">python quickstart_REBEL.py</div>
</div><!-- fragment --><p> In the <a class="el" href="quickstart___r_e_b_e_l_8py.html">quickstart_REBEL.py</a> file it is shown how one can use the LLM-VM client function to declare tools and use the REBEL agent. You can add more tools to the file and change the query REBEL is run on.</p>
<p>Secondly, you can run REBEL by importing client from llm_vm in the following way:</p>
<div class="fragment"><div class="line">from llm_vm.client import Client</div>
<div class="line">import os</div>
<div class="line"> </div>
<div class="line">client = Client(big_model=&#39;chat_gpt&#39;, small_model=&#39;gpt&#39;)</div>
<div class="line"> </div>
<div class="line">response = client.complete(</div>
<div class="line">     prompt = &#39;Is it warmer in Paris or Timbuktu and what are the temperatures in either city?&#39;,</div>
<div class="line">         context=&#39;&#39;,</div>
<div class="line">         openai_key=os.getenv(&quot;OPENAI_API_KEY&quot;), #for REBEL we need an OpenAI key</div>
<div class="line">         tools=[{&#39;description&#39;: &#39;Find the weather at a location and returns it in celcius.&#39;,  </div>
<div class="line">                 &#39;dynamic_params&#39;: {</div>
<div class="line">                   &quot;latitude&quot;: &#39;latitude of as a float&#39;,</div>
<div class="line">                   &quot;longitude&quot;: &#39;the longitude as a float&#39;</div>
<div class="line">                   },</div>
<div class="line">                 &#39;method&#39;: &#39;GET&#39;,</div>
<div class="line">                 &#39;url&#39;: &quot;https://api.open-meteo.com/v1/forecast&quot;,</div>
<div class="line">                 &#39;static_params&#39;: {&#39;current_weather&#39;: &#39;true&#39;}}]) </div>
<div class="line">print(response)</div>
</div><!-- fragment --><p> This is identical to how the code in <a class="el" href="namespacequickstart___r_e_b_e_l.html">quickstart_REBEL</a> accesses REBEL, but this can be done by any file written in the LLM_VM root directory. Any calls to client.complete that contains a list of tools passed to the parameter "tools" will result in the usage of the REBEL repository.</p>
<p>To define a tool create a dictionary with the following fields:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Field   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>'description'</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">A description of what the tool does    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>'dynamic_params'</code>   </td><td class="markdownTableBodyNone">dictionary   </td><td class="markdownTableBodyNone">A dictionary containing key value pairs (paramter name : description) of the API endpoint's mutable parameters that need to be set by REBEL in order to answer a query    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>'method'</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>GET</code> or <code>POST</code>, whichever is the type of the API endpoint    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>'url'</code>   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">URL of the API endpoint that the given tool specifies    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>'static_params'</code>   </td><td class="markdownTableBodyNone">dictionary   </td><td class="markdownTableBodyNone">Any parameters that are constant between all API calls. An API key/token is an example of this   </td></tr>
</table>
<p>Lastly to run tests on the Compositional Celebrities database run </p><div class="fragment"><div class="line">python test_agent.py</div>
</div><!-- fragment --><p> in the REBEL directory. After running test_agent.py you will see a menu like this:</p>
<div class="fragment"><div class="line">0 birthplace_rounded_lat</div>
<div class="line">1 birthplace_rounded_lng</div>
<div class="line">2 birthplace_tld</div>
<div class="line">3 birthplace_ccn3</div>
<div class="line">4 birthplace_currency</div>
<div class="line">5 birthplace_currency_short</div>
<div class="line">6 birthplace_currency_symbol</div>
<div class="line">7 birthplace_jpn_common_name</div>
<div class="line">8 birthplace_spa_common_name</div>
<div class="line">9 birthplace_rus_common_name</div>
<div class="line">10 birthplace_est_common_name</div>
<div class="line">11 birthplace_urd_common_name</div>
<div class="line">12 birthplace_callingcode</div>
<div class="line">13 birthyear_nobelLiterature</div>
<div class="line">14 birthdate_uspresident</div>
<div class="line">15 birthyear_masterchamp</div>
</div><!-- fragment --><p> Enter the number of the category you want to test, and then press enter to start the experiment. Below we present data on the REBEL agent and its merits.</p>
<h2><a class="anchor" id="autotoc_md37"></a>
Background</h2>
<ul>
<li>While large language models (LLMs) have demonstrated impressive performance in question answering tasks, their performance is limited when the questions require knowledge that is not included in the modelâ€™s training data and can only be acquired through direct observation or interaction with the real world.</li>
<li>Existing methods decompose reasoning tasks through the use of modules invoked sequentially, limiting their ability to answer deep reasoning tasks.</li>
<li>We introduce a method, Recursion based extensible LLM (REBEL), which handles open-world, deep reasoning tasks. REBEL allows LLMs to reason via recursive problem decomposition and utilization of external tools.</li>
</ul>
<h2><a class="anchor" id="autotoc_md38"></a>
Evaluation</h2>
<ul>
<li>We tested REBEL on 3 datasets: Compositional Celebrities (Ofir Press, 2022), FEVER (Thorne et al., 2018), and HotPotQA (Yang et al., 2018).</li>
<li>Below is the table depicting the accuracy percentage of the REBEL system versus ReAct on Compositional Celebrities.</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Category   </th><th class="markdownTableHeadNone">ReAct   </th><th class="markdownTableHeadNone">REBEL    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Birthplace_Rounded_Lat   </td><td class="markdownTableBodyNone">28%   </td><td class="markdownTableBodyNone"><b>59%</b>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Birthplace_Currency   </td><td class="markdownTableBodyNone">85%   </td><td class="markdownTableBodyNone"><b>94%</b>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Birthplace_Currency_Symbol   </td><td class="markdownTableBodyNone">35%   </td><td class="markdownTableBodyNone"><b>47%</b>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Birthplace_NobelLiterature   </td><td class="markdownTableBodyNone">33%   </td><td class="markdownTableBodyNone"><b>82%</b>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Birthdat_USPresident   </td><td class="markdownTableBodyNone">53%   </td><td class="markdownTableBodyNone"><b>90%</b>   </td></tr>
</table>
<ul>
<li>Below is the table depicting the accuracy percentage of the REBEL systhem versus ReAct on HotPotQA and FEVER.</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Dataset   </th><th class="markdownTableHeadNone">ReAct   </th><th class="markdownTableHeadNone">REBEL    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">FEVER   </td><td class="markdownTableBodyNone">72%   </td><td class="markdownTableBodyNone"><b>78%</b>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">HotPotQA   </td><td class="markdownTableBodyNone"><b>63%</b>   </td><td class="markdownTableBodyNone">50%   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md39"></a>
Authors</h2>
<p>Meet the awesome minds behind REBEL:</p>
<ul>
<li><b>Abhigya Sodani</b> - Research Intern at Anarchy and UCLA student<ul>
<li>GitHub: <a href="https://github.com/abhigya-sodani">abhigya-sodani</a></li>
<li>LinkedIn: <a href="https://www.linkedin.com/in/abhigya-sodani-405918160/">Abhigya Sodani</a></li>
</ul>
</li>
<li><b>Matthew Mirman</b> - CEO of Anarchy, PhD ETH Zurich<ul>
<li>GitHub: <a href="https://github.com/mmirman">Matthew Mirman</a></li>
<li>LinkedIn: <a href="https://www.linkedin.com/in/matthewmirman/">Matthew Mirman</a></li>
</ul>
</li>
</ul>
<p>These talented individuals have brought their expertise and passion to make REBEL a reality. Connect with them and get to know more about their contributions.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
Citation</h2>
<div class="fragment"><div class="line">@inproceedings{</div>
<div class="line">  title={LLM Guided Inductive Inference for Solving Compositional Problems},</div>
<div class="line">  author={Abhigya Sodani, Lauren Moos, and Matthew Mirman},</div>
<div class="line">  booktitle={International Conference on Machine Learning (ICML) TEACH Workshop},</div>
<div class="line">  year={2023},</div>
<div class="line">  url={https://drive.google.com/file/d/1Lmc7jXahND43vPRSdjiGadCLHw2U_y1i/view},</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md41"></a>
Contact</h2>
<p>Contact <a href="#" onclick="location.href='mai'+'lto:'+'abh'+'ig'+'ya@'+'an'+'arc'+'hy'+'.ai'; return false;">abhig<span class="obfuscator">.nosp@m.</span>ya@a<span class="obfuscator">.nosp@m.</span>narch<span class="obfuscator">.nosp@m.</span>y.ai</a> for any questions or concerns about REBEL. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
